(this["webpackJsonpgym-todo"]=this["webpackJsonpgym-todo"]||[]).push([[0],{19:function(e,t,n){e.exports=n(38)},24:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),i=(n(24),n(1)),c=n(2),u=n(3),d=n(13),s=n(9),m=n(5),p=n.n(m),f=function(e){var t=(new Date).getTime();return Math.round(Math.abs(e-t)/864e5)},b=Object(a.createContext)({}),h=function(e){var t=e.children,n=Object(a.useState)([]),o=Object(u.a)(n,2),l=o[0],i=o[1],c=Object(a.useState)(""),m=Object(u.a)(c,2),h=m[0],g=m[1];Object(a.useEffect)((function(){var e=p.a.get("todos");if(!e)return p.a.set("todos",l);var t=e.map((function(e){return e.dateCompleted&&f(new Date(e.dateCompleted).getTime())>=e.repeatInterval?Object(s.a)({},e,{dateCompleted:null,complete:!1}):e})),n=Object(d.a)(t).sort((function(e,t){return e.complete===t.complete?0:e.complete?1:-1}));return p.a.set("todos",n),i(n)}),[]);var v=Object(a.useCallback)((function(e){var t=[].concat(Object(d.a)(l),[{title:e,complete:!1,dateCompleted:null,repeatInterval:7}]);i(t),p.a.set("todos",t)}),[l]),x=Object(a.useCallback)((function(e){var t=l.map((function(t){if(t.title===e){var n=t.complete;return Object(s.a)({},t,{complete:!n,dateCompleted:n?null:new Date})}return t}));i(t),p.a.set("todos",t)}),[l]),E=Object(a.useCallback)((function(e,t){var n=l.map((function(n){return n.title===e?Object(s.a)({},n,{repeatInterval:t}):n}));i(n),p.a.set("todos",n)}),[l]),y=Object(a.useCallback)((function(e){var t=l.filter((function(t){return t.title!==e}));i(t),p.a.set("todos",t)}),[l]),O=Object(a.useMemo)((function(){return{todos:l,setTodos:i,selectedTodo:h,setSelectedTodo:g,addTodo:v,toggleTodo:x,setTodoRepeat:E,deleteTodo:y}}),[l,h,v,x,E,y]);return r.a.createElement(b.Provider,{value:O},t)};function g(){var e=Object(i.a)(["\n  padding: 8px 16px;\n  margin-top: 8px;\n  ",";\n"]);return g=function(){return e},e}function v(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-right: auto;\n  margin-top: 16px;\n  input {\n    font-size: 18px;\n    padding: 8px;\n    border-radius: 8px;\n    border: 1px solid var(--bg);\n  }\n"]);return v=function(){return e},e}var x=function(){var e=Object(a.useContext)(b),t=e.todos,n=e.addTodo,o=e.selectedTodo,l=e.setSelectedTodo,i=Object(a.useState)(""),c=Object(u.a)(i,2),d=c[0],s=c[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),f=p[0],h=p[1],g=Object(a.useState)(!1),v=Object(u.a)(g,2),x=v[0],O=v[1];return Object(a.useEffect)((function(){o&&h(!1)}),[o]),Object(a.useEffect)((function(){var e=t.find((function(e){return e.title===d}));e&&O(!0),x&&!e&&O(!1)}),[x,d,t]),f?r.a.createElement(E,null,r.a.createElement("input",{value:d,onChange:function(e){return s(e.target.value)},type:"text","aria-label":"add new todo"}),x?r.a.createElement("div",null,"Todo already exists"):r.a.createElement(y,{onClick:function(){n(d),s("")},disabled:""===d},"Add"),r.a.createElement(y,{onClick:function(){return h(!1)},cancel:!0},"Cancel")):r.a.createElement(E,null,r.a.createElement(y,{onClick:function(){h(!0),l("")}},"Add Todo"))},E=c.a.section(v()),y=c.a.button.attrs((function(e){return{type:"button",cancel:e.cancel}}))(g(),(function(e){return e.cancel&&"\n      margin-top: 4px;\n      background-color: transparent;\n  "})),O=n(4),k=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"delete"),r.a.createElement("path",{d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"}))};function j(){var e=Object(i.a)(["\n  width: 40px;\n  margin-left: 4px;\n  margin-right: 4px;\n  border: none;\n  padding: 4px;\n  border-radius: 8px;\n"]);return j=function(){return e},e}function w(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  grid-column: 2;\n  svg {\n    margin-bottom: 2px;\n  }\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 16px;\n  }\n  p {\n    color: rgba(0, 0, 0, 0.75);\n    font-size: 16px;\n    margin: 0 8px;\n  }\n"]);return w=function(){return e},e}var C=function(e){var t=e.todo,n=Object(a.useContext)(b),o=n.deleteTodo,l=n.setTodoRepeat,i=Object(a.useState)(t.repeatInterval),c=Object(u.a)(i,2),d=c[0],s=c[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),h=p[0],g=p[1];Object(a.useEffect)((function(){var e="number"!==typeof d||0===d;e&&!h&&g(!0),!e&&h&&g(!1)}),[d,h]),Object(a.useEffect)((function(){"number"!==typeof d||0===d||d===t.repeatInterval||l(t.title,d)}));var v=Object(a.useCallback)((function(){if(!t.dateCompleted)return null;var e=f(new Date(t.dateCompleted).getTime()),n=t.repeatInterval-e;return r.a.createElement("p",null,"Resets in ",n," days")}),[t.dateCompleted,t.repeatInterval]);return r.a.createElement(T,{key:"edit-todo",animate:{y:0,opacity:1},initial:{y:-16,opacity:0},exit:{y:-8,opacity:0}},r.a.createElement("button",{onClick:function(){return o(t.title)},type:"button","aria-label":"delete ".concat(t.title)},r.a.createElement(k,null),"\xa0Delete"),!t.dateCompleted&&r.a.createElement("p",null,"Repeats every",r.a.createElement(S,{type:"number",min:"1",step:"1",value:d,onChange:function(e){return s(Number(e.target.value))}}),"days"),h&&r.a.createElement("p",{style:{color:"#dc3545"}},"Days must be greater than 0"),v())},T=Object(c.a)(O.b.div)(w()),S=c.a.input(j()),B={hidden:{pathLength:0,fill:"rgba(0, 0, 0, 0)"},visible:{pathLength:1,fill:"rgba(0, 0, 0, 1)"}},I=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"checkmark"),r.a.createElement(O.b.path,{d:"M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z",variants:B,initial:"hidden",animate:"visible"}))};function M(){var e=Object(i.a)(["\n  background-color: transparent;\n  text-decoration: ",";\n  text-align: left;\n"]);return M=function(){return e},e}function D(){var e=Object(i.a)(["\n  border-radius: 50%;\n  width: 37px;\n  height: 37px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return D=function(){return e},e}function z(){var e=Object(i.a)(["\n  margin: 4px 0;\n  display: grid;\n  grid-template-columns: 37px 1fr;\n  align-items: center;\n"]);return z=function(){return e},e}var A=function(e){var t=e.id,n=Object(a.useContext)(b),o=n.todos,l=n.selectedTodo,i=n.setSelectedTodo,c=n.toggleTodo,u=o.find((function(e){return e.title===t}));if(!u)return null;var d=t===l,s=u.complete;return r.a.createElement(L,{animate:{y:0,opacity:1},initial:{y:16,opacity:0}},r.a.createElement(W,{onClick:function(){return c(t)},"aria-label":"checkbox for ".concat(t),"aria-pressed":s,whileHover:{scale:1.1},whileTap:{scale:.7}},s&&r.a.createElement(I,null)),r.a.createElement(G,{onClick:function(){return i(d?"":t)},isComplete:s,"aria-label":"".concat(t," ").concat(s?"complete":"incomplete"),"aria-pressed":d},u.title),r.a.createElement(O.a,null,d&&r.a.createElement(C,{todo:u})))},L=Object(c.a)(O.b.li)(z()),W=Object(c.a)(O.b.button).attrs((function(){return{type:"button"}}))(D()),G=c.a.button.attrs((function(e){return{type:"button",isComplete:e.isComplete}}))(M(),(function(e){return e.isComplete&&"line-through"}));function R(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]);return R=function(){return e},e}var _=function(){var e=Object(a.useContext)(b).todos;return r.a.createElement(F,null,e.map((function(e){return r.a.createElement(A,{id:e.title,key:e.title})})))},F=c.a.ul(R()),P=function(e){var t=e.size,n=void 0===t?512:t;return r.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("g",{filter:"url(#filter0_di)"},r.a.createElement("line",{x1:"66.2843",y1:"270",x2:"179.421",y2:"383.137",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"378.843",y1:"128.853",x2:"435.411",y2:"185.421",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"329.345",y1:"150.066",x2:"414.198",y2:"234.919",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"279.848",y1:"171.279",x2:"392.985",y2:"284.416",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"180.853",y1:"383.411",x2:"435.411",y2:"128.853",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}))),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_di",x:"30",y:"100.569",width:"441.696",height:"327.127",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow"})),r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"512",height:"512",fill:"white"}))))};function J(){var e=Object(i.a)(["\n  max-width: 600px;\n  margin: auto 0 0 auto;\n  padding-top: 32px;\n"]);return J=function(){return e},e}function U(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 auto 16px 0;\n  h1 {\n    margin: 0 0 0 16px;\n  }\n"]);return U=function(){return e},e}function H(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 100%;\n  padding: 16px;\n  border-radius: 8px;\n  background-color: var(--light-bg);\n"]);return H=function(){return e},e}function N(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  height: 100%;\n  min-height: calc(100vh - 32px);\n"]);return N=function(){return e},e}function $(){var e=Object(i.a)(["\n  background-color: var(--bg);\n  min-height: 100vh;\n  width: 100vw;\n  padding: 16px;\n"]);return $=function(){return e},e}var q=function(){return r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement(X,null,r.a.createElement(P,{size:64}),r.a.createElement("h1",null,"Gym Todo")),r.a.createElement(V,null,r.a.createElement(_,null),r.a.createElement(x,null)),r.a.createElement(Y,null,r.a.createElement("a",{href:"https://github.com/andreidobrinski/gym-todo"},"Made")," with"," ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," ","by ",r.a.createElement("a",{href:"https://andreidobrinski.com"},"Andrei Dobrinski"))))},K=c.a.div($()),Q=c.a.div(N()),V=c.a.main(H()),X=c.a.header(U()),Y=c.a.footer(J());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null,r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.eeca4234.chunk.js.map