(this["webpackJsonpgym-todo"]=this["webpackJsonpgym-todo"]||[]).push([[0],{20:function(e,t,n){e.exports=n(39)},25:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),i=n.n(o),l=(n(25),n(1)),c=n(2),u=n(3),d=n(12),m=n(7),s=n(19),p=n(11),f=n.n(p),b=function(e){var t=(new Date).getTime();return Math.round(Math.abs(e-t)/864e5)},h=function(e){return 1===e?"day":"days"};function g(e){var t=e.map((function(e){e.isToday;return Object(s.a)(e,["isToday"])}));f.a.set("todos",t)}var v=Object(a.createContext)({}),x=function(e){var t=e.children,n=Object(a.useState)([]),o=Object(u.a)(n,2),i=o[0],l=o[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),p=s[0],h=s[1];Object(a.useEffect)((function(){var e=(f.a.get("todos")||i).map((function(e){return e.dateCompleted&&b(new Date(e.dateCompleted).getTime())>=e.repeatInterval?Object(m.a)({},e,{dateCompleted:null,complete:!1}):e})),t=Object(d.a)(e).sort((function(e,t){return e.complete===t.complete?0:e.complete?1:-1}));return f.a.set("todos",t),l(t)}),[]);var x=Object(a.useCallback)((function(e){var t=[].concat(Object(d.a)(i),[{title:e,complete:!1,dateCompleted:null,repeatInterval:7}]);l(t),g(t)}),[i]),E=Object(a.useCallback)((function(e){var t=i.map((function(t){if(t.title===e){var n=t.complete;return Object(m.a)({},t,{complete:!n,dateCompleted:n?null:new Date})}return t}));l(t),g(t)}),[i]),y=Object(a.useCallback)((function(e,t){var n=i.map((function(n){return n.title===e?Object(m.a)({},n,{repeatInterval:t}):n}));l(n),g(n)}),[i]),O=Object(a.useCallback)((function(e){var t=i.filter((function(t){return t.title!==e}));l(t),g(t)}),[i]),k=Object(a.useCallback)((function(e){var t=i.find((function(t){return t.title===e})),n=i.filter((function(t){return t.title!==e}));if(!t)return i;var a=[Object(m.a)({},t,{isToday:!0})].concat(Object(d.a)(n));h(""),l(a),g(a)}),[i]),j=Object(a.useMemo)((function(){return{todos:i,setTodos:l,selectedTodo:p,setSelectedTodo:h,addTodo:x,toggleTodo:E,setTodoRepeat:y,deleteTodo:O,moveTodoToTop:k}}),[i,p,x,E,y,O,k]);return r.a.createElement(v.Provider,{value:j},t)};function E(){var e=Object(l.a)(["\n  padding: 8px 16px;\n  margin-top: 8px;\n  ",";\n"]);return E=function(){return e},e}function y(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-right: auto;\n  margin-top: 16px;\n  input {\n    font-size: 18px;\n    padding: 8px;\n    border-radius: 8px;\n    border: 1px solid var(--bg);\n  }\n"]);return y=function(){return e},e}var O=function(){var e=Object(a.useContext)(v),t=e.todos,n=e.addTodo,o=e.selectedTodo,i=e.setSelectedTodo,l=Object(a.useState)(""),c=Object(u.a)(l,2),d=c[0],m=c[1],s=Object(a.useState)(!1),p=Object(u.a)(s,2),f=p[0],b=p[1],h=Object(a.useState)(!1),g=Object(u.a)(h,2),x=g[0],E=g[1];return Object(a.useEffect)((function(){o&&b(!1)}),[o]),Object(a.useEffect)((function(){var e=t.find((function(e){return e.title===d}));e&&E(!0),x&&!e&&E(!1)}),[x,d,t]),f?r.a.createElement(k,null,r.a.createElement("input",{value:d,onChange:function(e){return m(e.target.value)},type:"text","aria-label":"add new todo",autoFocus:!0}),x?r.a.createElement("div",null,"Todo already exists"):r.a.createElement(j,{onClick:function(){n(d),m(""),b(!1)},disabled:""===d},"Add"),r.a.createElement(j,{onClick:function(){return b(!1)},cancel:!0},"Cancel")):r.a.createElement(k,null,r.a.createElement(j,{onClick:function(){b(!0),i("")}},"Add Todo"))},k=c.a.section(y()),j=c.a.button.attrs((function(e){return{type:"button",cancel:e.cancel}}))(E(),(function(e){return e.cancel&&"\n      margin-top: 4px;\n      background-color: transparent;\n  "})),w=n(4),C=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"delete"),r.a.createElement("path",{d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"}))},T=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 342 342",role:"img"},r.a.createElement("title",null,"move to top"),r.a.createElement("path",{d:"M192.375 342V82.296l119.702 119.702L342 171 171 0 0 171l29.924 29.922L149.625 82.296V342h42.75z"}))};function S(){var e=Object(l.a)(["\n  width: 40px;\n  margin-left: 4px;\n  margin-right: 4px;\n  border: none;\n  padding: 4px;\n  border-radius: 8px;\n"]);return S=function(){return e},e}function B(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  grid-column: 2;\n  svg {\n    margin-bottom: 2px;\n  }\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 16px;\n  }\n  p {\n    color: rgba(0, 0, 0, 0.75);\n    font-size: 16px;\n    margin: 0 8px;\n  }\n"]);return B=function(){return e},e}var M=function(e){var t=e.todo,n=Object(a.useContext)(v),o=n.deleteTodo,i=n.setTodoRepeat,l=n.moveTodoToTop,c=Object(a.useState)(t.repeatInterval),d=Object(u.a)(c,2),m=d[0],s=d[1];Object(a.useEffect)((function(){m!==t.repeatInterval&&i(t.title,m)}));var p=Object(a.useCallback)((function(){if(!t.dateCompleted)return null;var e=b(new Date(t.dateCompleted).getTime()),n=t.repeatInterval-e;return r.a.createElement("p",null,"Resets in ",n," ",h(n))}),[t.dateCompleted,t.repeatInterval]);return r.a.createElement(I,{key:"edit-todo",animate:{y:0,opacity:1},initial:{y:-16,opacity:0},exit:{y:-8,opacity:0}},r.a.createElement("button",{onClick:function(){return l(t.title)},type:"button","aria-label":"move ".concat(t.title," to top"),style:{marginRight:"4px"}},r.a.createElement(T,null)),!t.dateCompleted&&r.a.createElement("p",null,"Repeats every",r.a.createElement(z,{type:"tel",min:"1",step:"1",value:m,onChange:function(e){return s(Number(e.target.value))}}),h(m)),r.a.createElement("button",{onClick:function(){return o(t.title)},type:"button","aria-label":"delete ".concat(t.title)},r.a.createElement(C,null)),p())},I=Object(c.a)(w.b.div)(B()),z=c.a.input(S()),L={hidden:{pathLength:0,fill:"rgba(0, 0, 0, 0)"},visible:{pathLength:1,fill:"rgba(0, 0, 0, 1)"}},A=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"checkmark"),r.a.createElement(w.b.path,{d:"M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z",variants:L,initial:"hidden",animate:"visible"}))};function D(){var e=Object(l.a)(["\n  background-color: transparent;\n  text-decoration: ",";\n  text-align: left;\n"]);return D=function(){return e},e}function W(){var e=Object(l.a)(["\n  border-radius: 50%;\n  width: 37px;\n  height: 37px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return W=function(){return e},e}function F(){var e=Object(l.a)(["\n  margin: 4px 0;\n  display: grid;\n  grid-template-columns: 37px 1fr;\n  align-items: center;\n"]);return F=function(){return e},e}var R=function(e){var t=e.id,n=Object(a.useContext)(v),o=n.todos,i=n.selectedTodo,l=n.setSelectedTodo,c=n.toggleTodo,u=o.find((function(e){return e.title===t}));if(!u)return null;var d=t===i,m=u.complete;return r.a.createElement(G,{animate:{y:0,opacity:1},initial:{y:16,opacity:0}},r.a.createElement(_,{onClick:function(){return c(t)},"aria-label":"checkbox for ".concat(t),"aria-checked":m,role:"checkbox",whileHover:{scale:1.1},whileTap:{scale:.7}},m&&r.a.createElement(A,null)),r.a.createElement(P,{onClick:function(){return l(d?"":t)},isComplete:m,"aria-label":"".concat(t," ").concat(m?"complete":"incomplete"),"aria-pressed":d},u.title),r.a.createElement(w.a,null,d&&r.a.createElement(M,{todo:u})))},G=Object(c.a)(w.b.li)(F()),_=Object(c.a)(w.b.button).attrs((function(){return{type:"button"}}))(W()),P=c.a.button.attrs((function(e){return{type:"button",isComplete:e.isComplete}}))(D(),(function(e){return e.isComplete&&"line-through"}));function J(){var e=Object(l.a)(["\n  height: 2px;\n  width: 100%;\n  background: lightgray;\n  border: none;\n"]);return J=function(){return e},e}function U(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]);return U=function(){return e},e}var V=function(){var e=Object(a.useContext)(v).todos;return r.a.createElement(H,null,e.map((function(t,n){var o,i=t.isToday&&!(null===(o=e[n+1])||void 0===o?void 0:o.isToday);return r.a.createElement(a.Fragment,{key:t.title},r.a.createElement(R,{id:t.title}),i&&r.a.createElement(N,null))})))},H=c.a.ul(U()),N=c.a.hr(J()),$=function(e){var t=e.size,n=void 0===t?512:t;return r.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("g",{filter:"url(#filter0_di)"},r.a.createElement("line",{x1:"66.2843",y1:"270",x2:"179.421",y2:"383.137",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"378.843",y1:"128.853",x2:"435.411",y2:"185.421",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"329.345",y1:"150.066",x2:"414.198",y2:"234.919",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"279.848",y1:"171.279",x2:"392.985",y2:"284.416",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"180.853",y1:"383.411",x2:"435.411",y2:"128.853",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}))),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_di",x:"30",y:"100.569",width:"441.696",height:"327.127",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow"})),r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"512",height:"512",fill:"white"}))))};function q(){var e=Object(l.a)(["\n  max-width: 600px;\n  margin: auto 0 0 auto;\n  padding-top: 32px;\n"]);return q=function(){return e},e}function K(){var e=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 auto 16px 0;\n  h1 {\n    margin: 0 0 0 16px;\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 100%;\n  padding: 16px;\n  border-radius: 8px;\n  background-color: var(--light-bg);\n"]);return Q=function(){return e},e}function X(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  height: 100%;\n  min-height: calc(100vh - 32px);\n"]);return X=function(){return e},e}function Y(){var e=Object(l.a)(["\n  background-color: var(--bg);\n  min-height: 100vh;\n  width: 100vw;\n  padding: 16px;\n"]);return Y=function(){return e},e}var Z=function(){return r.a.createElement(ee,null,r.a.createElement(te,null,r.a.createElement(ae,null,r.a.createElement($,{size:64}),r.a.createElement("h1",null,"Gym Todo")),r.a.createElement(ne,null,r.a.createElement(V,null),r.a.createElement(O,null)),r.a.createElement(re,null,r.a.createElement("a",{href:"https://github.com/andreidobrinski/gym-todo"},"Made")," with"," ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," ","by ",r.a.createElement("a",{href:"https://andreidobrinski.com"},"Andrei Dobrinski"))))},ee=c.a.div(Y()),te=c.a.div(X()),ne=c.a.main(Q()),ae=c.a.header(K()),re=c.a.footer(q());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.88cb0886.chunk.js.map