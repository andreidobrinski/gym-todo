(this["webpackJsonpgym-todo"]=this["webpackJsonpgym-todo"]||[]).push([[0],{18:function(e,t,n){e.exports=n(37)},23:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),l=n.n(o),i=(n(23),n(1)),c=n(2),u=n(3),d=n(10),s=n(11),m=n(4),f=n.n(m),p=function(e){var t=(new Date).getTime();return Math.round(Math.abs(e-t)/864e5)},h=Object(a.createContext)({}),g=function(e){var t=e.children,n=Object(a.useState)([]),o=Object(u.a)(n,2),l=o[0],i=o[1],c=Object(a.useState)(""),m=Object(u.a)(c,2),g=m[0],b=m[1];Object(a.useEffect)((function(){var e=f.a.get("todos");if(!e)return f.a.set("todos",l);var t=e.map((function(e){return e.dateCompleted&&p(new Date(e.dateCompleted).getTime())>=7?Object(s.a)({},e,{dateCompleted:null,complete:!1}):e})),n=Object(d.a)(t).sort((function(e,t){return e.complete===t.complete?0:e.complete?1:-1}));return f.a.set("todos",n),i(n)}),[]);var x=Object(a.useCallback)((function(e){var t=[].concat(Object(d.a)(l),[{title:e,complete:!1,dateCompleted:null}]);i(t),f.a.set("todos",t)}),[l]),v=Object(a.useCallback)((function(e){var t=l.map((function(t){if(t.title===e){var n=t.complete;return Object(s.a)({},t,{complete:!n,dateCompleted:n?null:new Date})}return t}));i(t),f.a.set("todos",t)}),[l]),E=Object(a.useCallback)((function(e){var t=l.filter((function(t){return t.title!==e}));i(t),f.a.set("todos",t)}),[l]),k=Object(a.useMemo)((function(){return{todos:l,setTodos:i,selectedTodo:g,setSelectedTodo:b,addTodo:x,toggleTodo:v,deleteTodo:E}}),[l,g,x,v,E]);return r.a.createElement(h.Provider,{value:k},t)};function b(){var e=Object(i.a)(["\n  padding: 8px 16px;\n  margin-top: 8px;\n  ",";\n"]);return b=function(){return e},e}function x(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-right: auto;\n  margin-top: 16px;\n  input {\n    font-size: 18px;\n    padding: 8px;\n    border-radius: 8px;\n    border: 1px solid var(--bg);\n  }\n"]);return x=function(){return e},e}var v=function(){var e=Object(a.useContext)(h),t=e.todos,n=e.addTodo,o=e.selectedTodo,l=e.setSelectedTodo,i=Object(a.useState)(""),c=Object(u.a)(i,2),d=c[0],s=c[1],m=Object(a.useState)(!1),f=Object(u.a)(m,2),p=f[0],g=f[1],b=Object(a.useState)(!1),x=Object(u.a)(b,2),v=x[0],y=x[1];return Object(a.useEffect)((function(){o&&g(!1)}),[o]),Object(a.useEffect)((function(){var e=t.find((function(e){return e.title===d}));e&&y(!0),v&&!e&&y(!1)}),[v,d,t]),p?r.a.createElement(E,null,r.a.createElement("input",{value:d,onChange:function(e){return s(e.target.value)},type:"text","aria-label":"add new todo"}),v?r.a.createElement("div",null,"Todo already exists"):r.a.createElement(k,{onClick:function(){n(d),s(""),g(!1)},disabled:""===d},"Add"),r.a.createElement(k,{onClick:function(){return g(!1)},cancel:!0},"Cancel")):r.a.createElement(E,null,r.a.createElement(k,{onClick:function(){g(!0),l("")}},"Add Todo"))},E=c.a.section(x()),k=c.a.button.attrs((function(e){return{type:"button",cancel:e.cancel}}))(b(),(function(e){return e.cancel&&"\n      margin-top: 4px;\n      background-color: transparent;\n  "})),y=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"delete"),r.a.createElement("path",{d:"M3 6l3 18h12l3-18h-18zm19-4v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.316c0 .901.73 2 1.631 2h5.711z"}))};function O(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  grid-column: 2;\n  svg {\n    margin-bottom: 2px;\n  }\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 16px;\n  }\n  p {\n    color: rgba(0, 0, 0, 0.75);\n    font-size: 16px;\n    margin: 0 8px;\n  }\n"]);return O=function(){return e},e}var w=function(e){var t=e.todo,n=Object(a.useContext)(h).deleteTodo,o=Object(a.useCallback)((function(){if(!t.dateCompleted)return null;var e=7-p(new Date(t.dateCompleted).getTime());return r.a.createElement("p",null,"Resets in ",e," days")}),[t.dateCompleted]);return r.a.createElement(j,null,r.a.createElement("button",{onClick:function(){return n(t.title)},type:"button","aria-label":"delete ".concat(t.title)},r.a.createElement(y,null),"\xa0Delete"),o())},j=c.a.div(O()),C=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",role:"img"},r.a.createElement("title",null,"checkmark"),r.a.createElement("path",{d:"M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"}))};function T(){var e=Object(i.a)(["\n  background-color: transparent;\n  text-decoration: ",";\n  text-align: left;\n"]);return T=function(){return e},e}function S(){var e=Object(i.a)(["\n  border-radius: 50%;\n  width: 37px;\n  height: 37px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return S=function(){return e},e}function B(){var e=Object(i.a)(["\n  margin: 4px 0;\n  display: grid;\n  grid-template-columns: 37px 1fr;\n  align-items: center;\n"]);return B=function(){return e},e}var M=function(e){var t=e.id,n=Object(a.useContext)(h),o=n.todos,l=n.selectedTodo,i=n.setSelectedTodo,c=n.toggleTodo,u=o.find((function(e){return e.title===t}));if(!u)return null;var d=t===l,s=u.complete;return r.a.createElement(z,null,r.a.createElement(D,{onClick:function(){return c(t)},"aria-label":"checkbox for ".concat(t),"aria-pressed":s},s&&r.a.createElement(C,null)),r.a.createElement(A,{onClick:function(){return i(d?"":t)},isComplete:s,"aria-label":"".concat(t," ").concat(s?"complete":"incomplete"),"aria-pressed":d},u.title),d&&r.a.createElement(w,{todo:u}))},z=c.a.li(B()),D=c.a.button.attrs((function(){return{type:"button"}}))(S()),A=c.a.button.attrs((function(e){return{type:"button",isComplete:e.isComplete}}))(T(),(function(e){return e.isComplete&&"line-through"}));function W(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]);return W=function(){return e},e}var G=function(){var e=Object(a.useContext)(h).todos;return r.a.createElement(L,null,e.map((function(e){return r.a.createElement(M,{id:e.title,key:e.title})})))},L=c.a.ul(W()),_=function(e){var t=e.size,n=void 0===t?512:t;return r.a.createElement("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("g",{filter:"url(#filter0_di)"},r.a.createElement("line",{x1:"66.2843",y1:"270",x2:"179.421",y2:"383.137",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"378.843",y1:"128.853",x2:"435.411",y2:"185.421",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"329.345",y1:"150.066",x2:"414.198",y2:"234.919",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"279.848",y1:"171.279",x2:"392.985",y2:"284.416",stroke:"black",strokeOpacity:"0.5",strokeWidth:"40",strokeLinecap:"round"}),r.a.createElement("line",{x1:"180.853",y1:"383.411",x2:"435.411",y2:"128.853",stroke:"black",strokeWidth:"40",strokeLinecap:"round"}))),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_di",x:"30",y:"100.569",width:"441.696",height:"327.127",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.a.createElement("feOffset",{dy:"8"}),r.a.createElement("feGaussianBlur",{stdDeviation:"4"}),r.a.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow"})),r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"512",height:"512",fill:"white"}))))};function F(){var e=Object(i.a)(["\n  max-width: 600px;\n  margin: auto 0 0 auto;\n  padding-top: 32px;\n"]);return F=function(){return e},e}function I(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 auto 16px 0;\n  h1 {\n    margin: 0 0 0 16px;\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 100%;\n  padding: 16px;\n  border-radius: 8px;\n  background-color: var(--light-bg);\n"]);return P=function(){return e},e}function J(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  margin: 0 auto;\n  height: 100%;\n  min-height: calc(100vh - 32px);\n"]);return J=function(){return e},e}function R(){var e=Object(i.a)(["\n  background-color: var(--bg);\n  min-height: 100vh;\n  width: 100vw;\n  padding: 16px;\n"]);return R=function(){return e},e}var U=function(){return r.a.createElement($,null,r.a.createElement(q,null,r.a.createElement(K,null,r.a.createElement(_,{size:64}),r.a.createElement("h1",null,"Gym Todo")),r.a.createElement(H,null,r.a.createElement(G,null),r.a.createElement(v,null)),r.a.createElement(N,null,r.a.createElement("a",{href:"https://github.com/andreidobrinski/gym-todo"},"Made")," with"," ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," ","by ",r.a.createElement("a",{href:"https://andreidobrinski.com"},"Andrei Dobrinski"))))},$=c.a.div(R()),q=c.a.div(J()),H=c.a.main(P()),K=c.a.header(I()),N=c.a.footer(F());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.e5405e1c.chunk.js.map